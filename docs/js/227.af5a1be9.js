"use strict";(self["webpackChunkvue_code"]=self["webpackChunkvue_code"]||[]).push([[227],{2227:function(e,l,a){a.r(l),a.d(l,{default:function(){return ge}});a(4114);var s=a(6768);const t={class:"flex justify-end px-30px h-60px border-b border-a-gray-dddddd"},i=(0,s.Lk)("div",{class:"text-20 font-medium my-auto"},"สั่งซื้อล่วงหน้า iPhone 13",-1),r=[i];function n(e,l){return(0,s.uX)(),(0,s.CE)("div",t,r)}var c=a(1241);const o={},d=(0,c.A)(o,[["render",n]]);var u=d,v=a(4232);const p={class:"ml-auto font-light"};var x=(0,s.pM)({__name:"ModelList",props:{isActive:Boolean,name:String,price:Number},setup(e){return(l,a)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,v.C4)(["flex border rounded-md px-5 py-7 content-center cursor-pointer",e.isActive?"border-a-green-5bba47":"border-a-gray-dddddd"])},[(0,s.Lk)("div",null,(0,v.v_)(e.name),1),(0,s.Lk)("div",p,"฿ "+(0,v.v_)(e.price),1)],2))}});const k=x;var f=k;const L={class:"pt-4 text-14 text-center"};var g=(0,s.pM)({__name:"ColorList",props:{isActive:Boolean,text:String,color:String},setup(e){return(l,a)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,v.C4)(["flex border rounded-md px-7 py-5 justify-center cursor-pointer",e.isActive?"border-a-green-5bba47":"border-a-gray-dddddd"])},[(0,s.Lk)("div",null,[(0,s.Lk)("div",{class:"w-10 h-10 rounded-full flex",style:(0,v.Tr)(`background-color: #${e.color};`)},null,4),(0,s.Lk)("div",L,(0,v.v_)(e.text),1)])],2))}});const _=g;var h=_;const y={class:"text-24"},b={class:"text-16"},m={class:"pt-2 text-14"};var C=(0,s.pM)({__name:"SizeList",props:{isActive:Boolean,size:String,price:Number},setup(e){const l=e,a=(0,s.EW)((()=>l.size?l.size.replace(/[^a-z]/gi,""):"")),t=(0,s.EW)((()=>l.size?l.size.replace(/[^0-9]/gi,""):""));return(l,i)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,v.C4)(["text-center border rounded-md px-7 py-5 cursor-pointer",e.isActive?"border-a-green-5bba47":"border-a-gray-dddddd"])},[(0,s.Lk)("div",null,[(0,s.Lk)("span",y,(0,v.v_)(t.value),1),(0,s.Lk)("span",b,(0,v.v_)(a.value),1)]),(0,s.Lk)("div",m,"฿ "+(0,v.v_)(e.price),1)],2))}});const w=C;var E=w;const q=(0,s.Lk)("div",{class:"mr-4"},"Icon",-1),A=(0,s.Lk)("div",null,[(0,s.Lk)("div",{class:"text-20"},"บริการรับสินค้าหน้าร้าน"),(0,s.Lk)("div",{class:"text-14 pt-2"},"จองเริ่มต้นเพียง ฿3,000.00 เท่านั้น")],-1),B=[q,A];var F=(0,s.pM)({__name:"DeliveryList",props:{isActive:Boolean},setup(e){return(l,a)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,v.C4)(["flex border rounded-md px-7 py-4 cursor-pointer",e.isActive?"border-a-green-5bba47":"border-a-gray-dddddd"])},B,2))}});const X=F;var K=X,S=(0,s.pM)({__name:"MainButton",props:{isDisable:Boolean},setup(e){return(l,a)=>((0,s.uX)(),(0,s.CE)("button",{class:(0,v.C4)(["text-white bg-a-green-5bba47 px-4 py-3 rounded-md w-full text-20 h-52px",e.isDisable?"opacity-50":""])},[(0,s.RG)(l.$slots,"default")],2))}});const M=S;var R=M,O=a(5130);const z=e=>((0,s.Qi)("data-v-2a3bb43d"),e=e(),(0,s.jt)(),e),U={class:"modal-content text-black"},j={class:"bg-white w-full rounded-xl p-5 flex justify-center text-center"},P=z((()=>(0,s.Lk)("div",{class:"flex justify-center"},[(0,s.Lk)("svg",{width:"198",height:"128",viewBox:"0 0 198 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svelte-pxaq92"},[(0,s.Lk)("circle",{cx:"166",cy:"18",r:"6",fill:"url(#paint0_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("circle",{cx:"21",cy:"85",r:"6",fill:"url(#paint1_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("circle",{cx:"179",cy:"5",r:"4",fill:"url(#paint2_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("circle",{cx:"24",cy:"27",r:"3",fill:"url(#paint3_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("ellipse",{cx:"99",cy:"66.2371",rx:"60",ry:"59.2371",fill:"url(#paint4_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55 108.42V47.5295C55 45.3204 56.7909 43.5295 59 43.5295H138.273C140.482 43.5295 142.273 45.3204 142.273 47.5295V108.42C131.333 119.86 115.829 127 98.6364 127C81.4433 127 65.9393 119.86 55 108.42Z",fill:"white",class:"svelte-pxaq92"}),(0,s.Lk)("path",{d:"M93.7444 72.5044L108.176 57.6833C108.624 57.2228 109.195 56.9925 109.888 56.9925C110.581 56.9925 111.152 57.2228 111.6 57.6833C112.049 58.1438 112.273 58.73 112.273 59.4417C112.273 60.1535 112.049 60.7396 111.6 61.2002L95.4566 77.7796C94.9674 78.2821 94.3967 78.5333 93.7444 78.5333C93.0921 78.5333 92.5214 78.2821 92.0322 77.7796L85.6726 71.2483C85.2242 70.7878 85 70.2016 85 69.4899C85 68.7782 85.2242 68.192 85.6726 67.7315C86.1211 67.2709 86.6918 67.0407 87.3848 67.0407C88.0779 67.0407 88.6486 67.2709 89.097 67.7315L93.7444 72.5044Z",fill:"url(#paint5_linear_5_394)",class:"svelte-pxaq92"}),(0,s.Lk)("rect",{x:"85",y:"91.9963",width:"27.2727",height:"4.03889",rx:"1",fill:"#EEEEEE",class:"svelte-pxaq92"}),(0,s.Lk)("rect",{x:"87.7273",y:"110.844",width:"21.8182",height:"4.03889",rx:"1",fill:"#EEEEEE",class:"svelte-pxaq92"}),(0,s.Lk)("rect",{x:"79.5454",y:"101.42",width:"38.1818",height:"4.03889",rx:"1",fill:"#EEEEEE",class:"svelte-pxaq92"}),(0,s.Lk)("defs",{class:"svelte-pxaq92"},[(0,s.Lk)("linearGradient",{id:"paint0_linear_5_394",x1:"166",y1:"12",x2:"166",y2:"24",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})]),(0,s.Lk)("linearGradient",{id:"paint1_linear_5_394",x1:"21",y1:"79",x2:"21",y2:"91",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})]),(0,s.Lk)("linearGradient",{id:"paint2_linear_5_394",x1:"179",y1:"1",x2:"179",y2:"9",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})]),(0,s.Lk)("linearGradient",{id:"paint3_linear_5_394",x1:"24",y1:"24",x2:"24",y2:"30",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})]),(0,s.Lk)("linearGradient",{id:"paint4_linear_5_394",x1:"99",y1:"7",x2:"99",y2:"125.474",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})]),(0,s.Lk)("linearGradient",{id:"paint5_linear_5_394",x1:"98.6364",y1:"56.9925",x2:"98.6364",y2:"78.5333",gradientUnits:"userSpaceOnUse",class:"svelte-pxaq92"},[(0,s.Lk)("stop",{"stop-color":"#5BBA47",class:"svelte-pxaq92"}),(0,s.Lk)("stop",{offset:"1","stop-color":"#198F00",class:"svelte-pxaq92"})])])])],-1))),G={class:"text-24 py-8"},I=["innerHTML"],T={key:0,class:"modal-backdrop"};var H=(0,s.pM)({__name:"SuccessModal",props:{show:{type:Boolean,default:!1},title:String,msg:String},emits:["close"],setup(e,{emit:l}){return(l,a)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(O.eB,{name:"slide-fade"},{default:(0,s.k6)((()=>[e.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,v.C4)(["modal",{open:e.show}])},[(0,s.Lk)("div",U,[(0,s.Lk)("div",j,[(0,s.Lk)("div",null,[P,(0,s.Lk)("div",G,(0,v.v_)(e.title),1),(0,s.Lk)("div",{class:"text-16",innerHTML:e.msg},null,8,I),(0,s.bF)(R,{onClick:a[0]||(a[0]=e=>l.$emit("close")),class:"w-80 my-7"},{default:(0,s.k6)((()=>[(0,s.eW)(" ยืนยัน ")])),_:1})])])])],2)):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(O.eB,{name:"fade"},{default:(0,s.k6)((()=>[e.show?((0,s.uX)(),(0,s.CE)("div",T)):(0,s.Q3)("",!0)])),_:1})],64))}});const Q=(0,c.A)(H,[["__scopeId","data-v-2a3bb43d"]]);var D=Q;class W{static async apiGetPreOrder(){const e=await fetch("https://interview.com7.in/api/pre-order");if(!e.ok)throw new Error(`API request failed with status ${e.status}`);const l=await e.json(),a=l?.data?.main_product||[];return a}static async postPreOrder(e){let l={id:e};const a=await fetch("https://interview.com7.in/api/pre-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();return s}}var $=a(144);const N=e=>((0,s.Qi)("data-v-bb9e17ca"),e=e(),(0,s.jt)(),e),V={key:0,class:"flex justify-center"},Z={class:"grid grid-cols-1 md:grid-cols-2 px-8 max-w-5xl"},J={class:"relative"},Y=["src"],ee={key:0,class:"w-full bg-opacity-10 text-center rounded-lg"},le={class:"height-content hide-scroll"},ae=N((()=>(0,s.Lk)("div",{class:"text-40 py-8"},"ซื้อ iPhone 13",-1))),se=N((()=>(0,s.Lk)("div",{class:"text-24 pb-8"},"รุ่น",-1))),te={class:"grid grid-cols-1 gap-4"},ie=["onClick"],re=N((()=>(0,s.Lk)("div",{class:"text-24 py-8"},"สี",-1))),ne={class:"grid grid-cols-2 gap-4"},ce=["onClick"],oe=N((()=>(0,s.Lk)("div",{class:"text-24 py-8"},"ขนาด",-1))),de={class:"grid grid-cols-2 gap-4"},ue=["onClick"],ve=N((()=>(0,s.Lk)("div",{class:"text-24 py-8"},"คุณต้องการรับสินค้าด้วยวิธีใด",-1))),pe={class:"grid grid-cols-1 gap-4"},xe=N((()=>(0,s.Lk)("hr",{class:"my-9"},null,-1))),ke={key:1,class:"text-center pt-5"};var fe=(0,s.pM)({__name:"PreOrder",setup(e){const l=(0,$.KR)(!1),a=(0,$.KR)(!1),t=(0,$.KR)(""),i=(0,$.KR)([]),r=(0,$.KR)([]),n=(0,$.KR)([]),c=(0,$.KR)([]),o=(0,$.KR)(0),d=(0,$.KR)(0),v=(0,$.KR)(0),p=(0,$.KR)(""),x=(0,$.KR)(!1),k=(0,$.KR)(!1);async function L(){l.value=!1,await W.apiGetPreOrder().then((e=>{i.value=e,l.value=!0})).catch((e=>{l.value=!0,console.log(e)}))}function g(){y(),b(r.value.length?r.value[0].model:[]),m(n.value.length?n.value[0].data:[]),o.value=r.value.length?r.value[0].id:0,d.value=n.value.length?n.value[0].id:0,v.value=c.value.length?c.value[0].id:0,p.value=c.value.length?c.value[0].image_url:""}function _(){x.value=!1}function y(){for(const[e,l]of i.value.entries()){let a={id:e+1,name:l.name??"",price:0,model:l.model??[]};l.model.length&&l.model[0].data.length&&(a.price=l.model[0].data[0].price??0),r.value.push(a)}r.value=r.value.sort(((e,l)=>l.price-e.price))}function b(e){n.value=[];for(const[l,a]of e.entries()){let e={id:l+1,color:a.color??"",colorHex:a.color_hex??"",data:a.data??[]};n.value.push(e)}}function m(e){c.value=e}function C(e,l){x.value=!0,b(e),m(n.value.length?n.value[0].data:[]),o.value=l,d.value=1,v.value=c.value.length?c.value[0].id:0,p.value=c.value.length?c.value[0].image_url:""}function w(e,l){x.value=!0,p.value=e.length?e[0].image_url:"",m(e),d.value=l,v.value=c.value.length?c.value[0].id:0}function q(e){v.value=e}async function A(){a.value=!0,await W.postPreOrder(v.value).then((()=>{a.value=!1,t.value="การชำระเงินของคุณสำเร็จแล้ว! <br> ตอนนี้เราจะส่งอีเมลยืนยันคำสั่งซื้อสำเร็จให้คุณ",k.value=!0})).catch((e=>{a.value=!1,console.log(e)}))}return(0,s.sV)((async()=>{await L(),g()})),(e,i)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(u),l.value?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.Lk)("div",Z,[(0,s.Lk)("div",J,[(0,s.Lk)("img",{class:"image w-full",src:p.value,onLoad:i[0]||(i[0]=e=>_())},null,40,Y),x.value?((0,s.uX)(),(0,s.CE)("div",ee," กำลังดาวโหลดรูปภาพ... ")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",le,[(0,s.Lk)("div",null,[ae,se,(0,s.Lk)("div",te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value,((e,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l+"_model",onClick:l=>C(e.model,e.id)},[(0,s.bF)(f,{name:e.name,price:e.price,isActive:o.value==e.id},null,8,["name","price","isActive"])],8,ie)))),128))])]),(0,s.Lk)("div",null,[re,(0,s.Lk)("div",ne,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.value,((e,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l+"_color",onClick:l=>w(e.data,e.id)},[(0,s.bF)(h,{text:e.color,color:e.colorHex,isActive:d.value==e.id},null,8,["text","color","isActive"])],8,ce)))),128))])]),(0,s.Lk)("div",null,[oe,(0,s.Lk)("div",de,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.value,((e,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l+"_size",onClick:l=>q(e.id)},[(0,s.bF)(E,{size:e.size?e.size:"",price:e.price,isActive:v.value==e.id},null,8,["size","price","isActive"])],8,ue)))),128))])]),(0,s.Lk)("div",null,[ve,(0,s.Lk)("div",pe,[(0,s.bF)(K),(0,s.bF)(K)])]),xe,(0,s.bF)(R,{isDisable:a.value,class:"mb-8",onClick:i[1]||(i[1]=e=>A())},{default:(0,s.k6)((()=>[(0,s.eW)(" ยืนยันการสั่งซื้อล่วงหน้า ")])),_:1},8,["isDisable"])])])])):((0,s.uX)(),(0,s.CE)("div",ke,"กำลังดาวโหลดข้อมูล...")),k.value?((0,s.uX)(),(0,s.Wv)(D,{key:2,show:k.value,title:"การสั่งซื้อล่วงหน้าสำเร็จ",msg:t.value,onClose:i[2]||(i[2]=e=>k.value=!1)},null,8,["show","msg"])):(0,s.Q3)("",!0)],64))}});const Le=(0,c.A)(fe,[["__scopeId","data-v-bb9e17ca"]]);var ge=Le}}]);
//# sourceMappingURL=227.af5a1be9.js.map